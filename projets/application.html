<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="marwa mezghanni" />

<meta name="date" content="2018-11-10" />

<title>CARTOGRAPHIE</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">marwa mezghanni</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index1.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="PCA.html">markdown ACP</a>
</li>
<li>
  <a href="cv.html">mon application Shiny</a>
</li>
<li>
  <a href="application.html">cartographie de la Tunisie</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">CARTOGRAPHIE</h1>
<h4 class="author"><em>marwa mezghanni</em></h4>
<h4 class="date"><em>November 10, 2018</em></h4>

</div>


<div id="instalation-des-packages-necessaires-pour-ce-travail" class="section level2">
<h2>Instalation des packages necessaires pour ce travail:</h2>
<pre class="r"><code>library(maptools)
library(sp)
library(shapefiles)
library(raster)
library(readxl)
library(readr)
library(scales)
library(ggplot2)
library(rgdal)
library(rgeos)</code></pre>
</div>
<div id="traitement" class="section level2">
<h2>Traitement:</h2>
<p>On commence par faire le plot de la carte de la Tunisie en utilisant le package raster</p>
<pre class="r"><code>m_deleg&lt;- getData(name=&quot;GADM&quot;,  country=&quot;TUN&quot;, level=2)
plot(m_deleg)</code></pre>
<p><img src="application_files/figure-html/pressure-1.png" width="672" /></p>
<p>Et puis on importe notre jeu de donnees ainsi que la base qui contient le code de chaque delegation de la Tunisie. Notre jeu de donnees concerne les logements distant plus de 2 Km depuis le plus proche centre sportif. On fait apres une jointure de ces bases afin d’avoir pour chaque delegation la valeur de la variable d’interet et son code.</p>
<pre class="r"><code>code=read.csv(&quot;delegationTotclean1.csv&quot;)
base &lt;- read_excel(&quot;base.xlsx&quot;)
base=base[-1,]
base=base[,-1]
i=match(base[,1] ,code$deg)
base$hasc=code$HASC_2a[i]</code></pre>
<p>Le jeu de donnees devient alors :</p>
<pre class="r"><code>head(base)</code></pre>
<pre><code>## # A tibble: 6 x 3
##   Région   Valeur hasc 
##   &lt;chr&gt;     &lt;dbl&gt; &lt;fct&gt;
## 1 Hammamet  21694 &lt;NA&gt; 
## 2 Raoued    19947 &lt;NA&gt; 
## 3 Zarzis    18608 &lt;NA&gt; 
## 4 Bouhajla  14418 &lt;NA&gt; 
## 5 Sfax Sud  14359 &lt;NA&gt; 
## 6 Regueb    14177 &lt;NA&gt;</code></pre>
<p>Et on finit par appliquer les donnees sur la carte initialement preparee.</p>
<pre class="r"><code>tn_deleg_fr &lt;- fortify(m_deleg,region = &quot;HASC_2&quot;)
j=match(tn_deleg_fr$id,base$hasc)
tn_deleg_fr$Valeur=base$Valeur[j]

p2&lt;-ggplot(tn_deleg_fr, aes(x=long, y=lat, group=group))+geom_polygon(aes(fill=Valeur),color = &quot;black&quot;)+labs(x=&quot;&quot;,y=&quot;&quot;)+ theme_bw()+coord_fixed()+scale_fill_gradientn(colours=c(&quot;blue&quot;,&quot;white&quot;,&quot;red&quot;),values=rescale(c(-100,0,100)))
p2&lt;-p2+ theme(legend.position=&quot;right&quot;)
p2+labs(fill = &quot;Nombre des logements&quot;)</code></pre>
<p><img src="application_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
